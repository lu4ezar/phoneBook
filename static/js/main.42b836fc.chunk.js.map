{"version":3,"sources":["redux/slices/searchSlice.ts","redux/selectors.ts","components/input/Input.tsx","components/phone/styled.ts","components/phone/Phone.tsx","components/form/styled.ts","components/form/Form.tsx","api/index.ts","redux/asyncThunks.ts","redux/slices/editingSlice.ts","components/list/styled.ts","components/list/List.tsx","components/app/styled.ts","components/app/App.tsx","redux/slices/phoneBookSlice.ts","redux/store.ts","index.tsx"],"names":["searchSlice","createSlice","name","initialState","reducers","setSearchString","state","action","payload","selectPhoneBookState","phoneBook","selectLoading","loading","selectSearchString","search","selectEditingId","editingId","selectFiltered","createSelector","filter","phoneNumber","Object","keys","key","includes","length","Input","dispatch","useDispatch","value","useSelector","actions","onChange","e","currentTarget","placeholder","StyledLi","styled","li","Phone","data","onDelete","onEdit","phone","email","onClick","StyledForm","form","reducer","field","type","Form","isEditing","onSubmit","onCancel","useReducer","submitText","disabled","preventDefault","url","createPhoneNumber","fetch","method","headers","body","JSON","stringify","updatePhoneNumber","deletePhoneNumber","id","fetchPhoneBook","createAsyncThunk","a","response","json","rawPhoneBook","values","api","res","status","Error","message","error","setEditingId","dropEditingId","StyledUl","ul","List","useEffect","handleCancel","map","rest","handleSubmit","handleDelete","handleEdit","StyledApp","div","App","phoneBookSlice","extraReducers","builder","addCase","pending","fulfilled","push","index","findIndex","splice","store","configureStore","phoneBookReducer","editingIdReducer","searchReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42b836fc.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const searchSlice = createSlice({\n  name: \"search\",\n  initialState: \"\",\n  reducers: {\n    setSearchString: (state, action) => action.payload,\n  },\n});\n\nexport default searchSlice.reducer;\n","import { createSelector } from \"@reduxjs/toolkit\";\nimport { RootState } from \"./store\";\nimport { PhoneNumber } from \"../interfaces\";\n\nconst selectPhoneNumbers = (state: RootState) => state.phoneBook.phoneBook;\n\nexport const selectPhoneBookState = (state: RootState) => state.phoneBook;\n\nexport const selectLoading = (state: RootState) => state.phoneBook.loading;\n\nexport const selectSearchString = (state: RootState) => state.search;\n\nexport const selectEditingId = (state: RootState) => state.editingId;\n\nexport const selectFiltered = createSelector(\n  [selectPhoneNumbers, selectSearchString],\n  (phoneBook, search) => {\n    const filterPhoneNumbers = (phoneNumber: PhoneNumber) => {\n      const phoneNumberKeys = Object.keys(phoneNumber);\n      const filteredPhoneNumberKeys = phoneNumberKeys.filter((key) => {\n        if (key === \"id\") {\n          return false;\n        }\n        return phoneNumber[key as keyof PhoneNumber]?.includes(search);\n      });\n      return filteredPhoneNumberKeys.length > 0;\n    };\n    return phoneBook.filter(filterPhoneNumbers);\n  }\n);\n","import React, { SyntheticEvent } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { searchSlice } from \"../../redux/slices/searchSlice\";\nimport { selectSearchString } from \"../../redux/selectors\";\n\nconst Input = () => {\n  const dispatch = useDispatch();\n  const value = useSelector(selectSearchString);\n  const { setSearchString } = searchSlice.actions;\n  const handleChange = (e: SyntheticEvent) => {\n    const { value } = e.currentTarget as HTMLInputElement;\n    dispatch(setSearchString(value));\n  };\n  return <input value={value} onChange={handleChange} placeholder=\"search\" />;\n};\n\nexport default Input;\n","import styled from \"styled-components\";\n\nexport const StyledLi = styled.li`\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  border-bottom: 1px solid silver;\n  align-items: center;\n  height: 100%;\n  & span {\n    flex: 1 0 25%;\n  }\n`;\n","import React from \"react\";\nimport { StyledLi } from \"./styled\";\nimport { Props } from \"../../interfaces/phone\";\n\nconst Phone = ({ data, onDelete, onEdit }: Props) => {\n  const { phone, name, email } = data;\n  return (\n    <StyledLi>\n      <span>{phone}</span>\n      <span>{name}</span>\n      <span>{email}</span>\n      <button onClick={onDelete}>Delete</button>\n      <button onClick={onEdit}>Edit</button>\n    </StyledLi>\n  );\n};\n\nexport default Phone;\n","import styled from \"styled-components\";\n\nexport const StyledForm = styled.form`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0.5em 0;\n  padding: 0.5em;\n  border-bottom: 1px solid silver;\n  input:not([type=\"submit\"], [type=\"button\"]) {\n    border: none;\n  }\n`;\n","import React, { useReducer, FormEvent, SyntheticEvent } from \"react\";\nimport { StyledForm } from \"./styled\";\nimport { Reducer, State, Props } from \"../../interfaces/form\";\nimport { selectLoading } from \"../../redux/selectors\";\nimport { useSelector } from \"react-redux\";\n\nconst initialState: State = {\n  name: \"\",\n  phone: \"\",\n  email: \"\",\n};\n\nconst reducer = (state: State, { field, value, type }: Reducer) => {\n  if (type === \"reset\") {\n    return initialState;\n  }\n  return {\n    ...state,\n    [field as string]: value,\n  };\n};\n\nconst Form = ({\n  data = initialState,\n  isEditing = false,\n  onSubmit,\n  onCancel,\n}: Props) => {\n  const [state, dispatch] = useReducer(reducer, data);\n  const { name, phone, email } = state;\n  const loading = useSelector(selectLoading);\n  const onChange = (e: SyntheticEvent) => {\n    const { name, value } = e.currentTarget as HTMLInputElement;\n    dispatch({ field: name, value });\n  };\n\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n    onSubmit(state);\n    dispatch({ type: \"reset\" });\n  };\n\n  const submitText =\n    loading === \"pending\"\n      ? \"Wait...\"\n      : isEditing\n      ? \"Save changes\"\n      : \"Add phone number\";\n  const disabled = !phone || !name || !email;\n\n  return (\n    <StyledForm onSubmit={handleSubmit}>\n      <input\n        name=\"phone\"\n        type=\"tel\"\n        value={phone}\n        placeholder=\"phone\"\n        onChange={onChange}\n      />\n      <input\n        name=\"name\"\n        type=\"text\"\n        value={name}\n        placeholder=\"name\"\n        onChange={onChange}\n      />\n      <input\n        name=\"email\"\n        type=\"email\"\n        value={email}\n        placeholder=\"email\"\n        onChange={onChange}\n      />\n      {isEditing && <input type=\"button\" value=\"Cancel\" onClick={onCancel} />}\n      <input type=\"submit\" value={submitText} disabled={disabled} />\n    </StyledForm>\n  );\n};\n\nexport default Form;\n","import { PhoneNumber, PhoneNumberId } from \"../interfaces\";\n\nconst url = \"https://phone-book-decentury.herokuapp.com/api/pb/\";\n\nexport const fetchPhoneBook = () => fetch(url);\n\nexport const createPhoneNumber = (data: PhoneNumber) =>\n  fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ data: { ...data } }),\n  });\n\nexport const readPhoneNumberById = (id: PhoneNumberId) => fetch(url + id);\n\nexport const updatePhoneNumber = (data: PhoneNumber) =>\n  fetch(url, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ data: { ...data } }),\n  });\n\nexport const deletePhoneNumber = (id: PhoneNumberId) =>\n  fetch(url + id, {\n    method: \"DELETE\",\n  });\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport * as api from \"../api\";\nimport { PhoneNumber, PhoneNumberId, PhoneBook } from \"../interfaces\";\n\nexport const fetchPhoneBook = createAsyncThunk(\n  \"phoneBook/fetchPhoneBook\",\n  async () => {\n    const response = await api.fetchPhoneBook();\n    const rawPhoneBook = await response.json();\n    return Object.values(rawPhoneBook).filter(\n      (phoneNumber) => phoneNumber\n    ) as PhoneBook;\n  }\n);\n\nexport const createPhoneNumber = createAsyncThunk(\n  \"phoneBook/createPhoneNumber\",\n  async (data: PhoneNumber) => {\n    try {\n      const response = await api.createPhoneNumber(data);\n      const res = await response.json();\n      if (response.status !== 200) {\n        throw new Error(res.message);\n      }\n      return res;\n    } catch (err) {\n      return { error: err.message };\n    }\n  }\n);\n\nexport const deletePhoneNumber = createAsyncThunk(\n  \"phoneBook/deletePhoneNumber\",\n  async (id: PhoneNumberId) => {\n    await api.deletePhoneNumber(id);\n    return id;\n  }\n);\n\nexport const updatePhoneNumber = createAsyncThunk(\n  \"phoneBook/updatePhoneNumber\",\n  async (data: PhoneNumber) => {\n    await api.updatePhoneNumber(data);\n    return data;\n  }\n);\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Editing } from \"../../interfaces\";\n\nexport const editingId = createSlice({\n  name: \"editingId\",\n  initialState: null as Editing,\n  reducers: {\n    setEditingId: (state, action: PayloadAction<Editing>) => action.payload,\n    dropEditingId: (state) => null,\n  },\n});\n\nexport const { setEditingId, dropEditingId } = editingId.actions;\n\nexport default editingId.reducer;\n","import styled from \"styled-components\";\n\nexport const StyledUl = styled.ul`\n  list-style-type: none;\n  margin: 1em 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  height: 100%;\n`;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Phone from \"../phone\";\nimport Form from \"../form\";\nimport {\n  selectPhoneBookState,\n  selectFiltered,\n  selectEditingId,\n} from \"../../redux/selectors\";\nimport {\n  fetchPhoneBook,\n  deletePhoneNumber,\n  updatePhoneNumber,\n} from \"../../redux/asyncThunks\";\nimport { setEditingId, dropEditingId } from \"../../redux/slices/editingSlice\";\nimport { StyledUl } from \"./styled\";\nimport { PhoneNumber, PhoneNumberId } from \"../../interfaces\";\n\nconst List = () => {\n  const { loading, error } = useSelector(selectPhoneBookState);\n  const editingId = useSelector(selectEditingId);\n  const dispatch = useDispatch();\n  const phoneBook = useSelector(selectFiltered);\n\n  useEffect(() => {\n    dispatch(fetchPhoneBook());\n    return () => {\n      dispatch(fetchPhoneBook());\n    };\n  }, [dispatch]);\n\n  const handleSubmit = (data: PhoneNumber, id: PhoneNumberId) => {\n    dispatch(updatePhoneNumber({ ...data, id }));\n    dispatch(dropEditingId());\n  };\n\n  const handleDelete = (id: PhoneNumberId) => {\n    dispatch(deletePhoneNumber(id));\n  };\n\n  const handleEdit = (id: PhoneNumberId) => {\n    dispatch(setEditingId(id));\n  };\n\n  const handleCancel = () => {\n    dispatch(dropEditingId());\n  };\n\n  return (\n    <StyledUl>\n      {phoneBook.map(({ id, ...rest }) =>\n        id === editingId ? (\n          <Form\n            key={id}\n            data={rest}\n            isEditing\n            onCancel={handleCancel}\n            onSubmit={(data) => handleSubmit(data, id)}\n          />\n        ) : (\n          <Phone\n            key={id}\n            data={rest}\n            onDelete={() => handleDelete(id as PhoneNumberId)}\n            onEdit={() => handleEdit(id as PhoneNumberId)}\n          />\n        )\n      )}\n      {loading === \"pending\" && <p>Loading...</p>}\n      {error && <p>Error: {error}</p>}\n    </StyledUl>\n  );\n};\n\nexport default List;\n","import styled from \"styled-components\";\n\nexport const StyledApp = styled.div`\n  height: 100%;\n  width: 60%;\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  & header {\n    background: blanchedalmond;\n    width: 100vw;\n    align-self: center;\n  }\n  & h1 {\n    width: max-content;\n    position: relative;\n    left: 20%;\n  }\n  & main {\n    padding: 2em 0;\n  }\n`;\n","import React from \"react\";\nimport Input from \"../input\";\nimport List from \"../list\";\nimport Form from \"../form\";\nimport { StyledApp } from \"./styled\";\nimport { useDispatch } from \"react-redux\";\nimport { createPhoneNumber } from \"../../redux/asyncThunks\";\nimport { PhoneNumber } from \"../../interfaces\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const handleSubmit = (data: PhoneNumber) => {\n    dispatch(createPhoneNumber(data));\n  };\n\n  return (\n    <StyledApp>\n      <header>\n        <h1>Phone Book</h1>\n      </header>\n      <main>\n        <Input />\n        <List />\n        <Form onSubmit={handleSubmit} />\n      </main>\n    </StyledApp>\n  );\n};\n\nexport default App;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { PhoneBook, PhoneBookState } from \"../../interfaces\";\nimport {\n  fetchPhoneBook,\n  createPhoneNumber,\n  deletePhoneNumber,\n  updatePhoneNumber,\n} from \"../asyncThunks\";\n\nconst initialState: PhoneBookState = {\n  phoneBook: [] as PhoneBook,\n  loading: \"idle\",\n  error: null as PhoneBookState[\"error\"],\n};\n\nexport const phoneBookSlice = createSlice({\n  name: \"phoneBook\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchPhoneBook.pending, (state) => {\n        state.loading = \"pending\";\n        state.error = null;\n      })\n      .addCase(fetchPhoneBook.fulfilled, (state, action) => {\n        state.loading = \"idle\";\n        state.phoneBook = action.payload;\n      })\n      .addCase(createPhoneNumber.pending, (state, action) => {\n        state.loading = \"pending\";\n        state.error = null;\n      })\n      .addCase(createPhoneNumber.fulfilled, (state, action) => {\n        state.loading = \"idle\";\n        action.payload.error\n          ? (state.error = action.payload.error)\n          : state.phoneBook.push({\n              ...action.payload,\n            });\n      })\n      .addCase(deletePhoneNumber.pending, (state, action) => {\n        state.loading = \"pending\";\n        state.error = null;\n      })\n      .addCase(deletePhoneNumber.fulfilled, (state, action) => {\n        state.loading = \"idle\";\n        state.phoneBook = state.phoneBook.filter(\n          ({ id }) => id !== action.payload\n        );\n      })\n      .addCase(updatePhoneNumber.pending, (state, action) => {\n        state.loading = \"pending\";\n        state.error = null;\n      })\n      .addCase(updatePhoneNumber.fulfilled, (state, action) => {\n        state.loading = \"idle\";\n        const index = state.phoneBook.findIndex(\n          ({ id }) => id === action.payload.id\n        );\n        state.phoneBook.splice(index, 1, action.payload);\n      });\n  },\n});\n\nexport default phoneBookSlice.reducer;\n","import { configureStore, ThunkAction, Action } from \"@reduxjs/toolkit\";\nimport phoneBookReducer from \"./slices/phoneBookSlice\";\nimport editingIdReducer from \"./slices/editingSlice\";\nimport searchReducer from \"./slices/searchSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    phoneBook: phoneBookReducer,\n    editingId: editingIdReducer,\n    search: searchReducer,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/app\";\nimport { store } from \"./redux/store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}